pipeline {
   
    agent any
             		
    stages {
        stage('Build') 
        {
            steps 
            {
                echo 'Building.....'
                dir('PipelineSource\\Pipeline')
                 {
                    bat 'mvn clean compile'  
                 }
                
            }
         }
         stage('Test') 
         {
            steps 
            {
                echo 'Running Tests.....'
                dir('PipelineSource\\Pipeline') 
                {
                     bat 'mvn clean package -P qa' 
                }
               
            }
          }
           
           stage('Deploy')
            {
               steps 
           		 {
              	 	 echo 'Running Deploy.....'
             	 	 dir("${JENKINS_HOME}\\workspace\\pipeline\\PipelineSource\\Pipeline\\target") 
             	 	 {
    					bat 'copy Pipeline*.jar C:\\Deployment'
					 }
             	  	
           		 }
        	}
    }
}